# =============================================================================
# Configuration Veza - Variables d'Environnement
# =============================================================================

# Environment
ENVIRONMENT=development
DEBUG=true

# =============================================================================
# Base de Données
# =============================================================================
DATABASE_URL=postgres://veza_user:veza_password@localhost:5432/veza_db?sslmode=disable
DB_HOST=localhost
DB_PORT=5432
DB_USERNAME=veza_user
DB_PASSWORD=veza_password
DB_NAME=veza_db

# =============================================================================
# Cache Redis
# =============================================================================
REDIS_URL=redis://localhost:6379
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=
REDIS_DB=0

# =============================================================================
# Backend API Go (Port 8080)
# =============================================================================
API_PORT=8080
JWT_SECRET=your-super-secret-jwt-key-change-in-production-minimum-32-characters
JWT_EXPIRATION=24h
JWT_REFRESH_EXPIRATION=168h

# URLs des services
CHAT_SERVER_URL=http://localhost:8081
STREAM_SERVER_URL=http://localhost:8082

# Upload et stockage
UPLOAD_DIR=./uploads
MAX_FILE_SIZE=104857600
ALLOWED_FILE_TYPES=image/jpeg,image/png,image/gif,audio/mp3,audio/wav,audio/flac

# =============================================================================
# Chat Server Rust (Port 8081)
# =============================================================================
CHAT_PORT=8081
CHAT_WS_ENDPOINT=/ws
CHAT_MAX_CONNECTIONS=10000
CHAT_MESSAGE_RATE_LIMIT=60
CHAT_MAX_MESSAGE_LENGTH=2000

# =============================================================================
# Stream Server Rust (Port 8082)
# =============================================================================
STREAM_PORT=8082
STREAM_WS_ENDPOINT=/ws
AUDIO_DIR=./audio
STREAM_BUFFER_SIZE=8192
MAX_BITRATE=320
SUPPORTED_FORMATS=mp3,wav,flac,ogg

# Origines autorisées pour CORS
ALLOWED_ORIGINS=http://localhost:5173,http://localhost:8080,http://localhost:3000

# =============================================================================
# Frontend React (Port 5173 en dev, 3000 en prod)
# =============================================================================
VITE_API_URL=http://localhost:8080/api/v1
VITE_WS_CHAT_URL=ws://localhost:8081/ws
VITE_WS_STREAM_URL=ws://localhost:8082/ws
VITE_UPLOAD_URL=http://localhost:8080/uploads
VITE_STREAM_URL=http://localhost:8082/stream

# Configuration frontend
VITE_APP_NAME=Veza
VITE_APP_VERSION=1.0.0
VITE_ENABLE_CHAT=true
VITE_ENABLE_AUDIO=true
VITE_MAX_FILE_SIZE=104857600

# =============================================================================
# Logging
# =============================================================================
LOG_LEVEL=info
LOG_FORMAT=json
LOG_FILE=./logs/app.log

# Rust specific
RUST_LOG=info,chat_server=debug,stream_server=debug

# =============================================================================
# Sécurité
# =============================================================================
# Clés pour le chiffrement des données sensibles
ENCRYPTION_KEY=your-32-character-encryption-key-here

# Rate limiting
RATE_LIMIT_REQUESTS=1000
RATE_LIMIT_WINDOW=3600

# CORS
CORS_ALLOWED_ORIGINS=http://localhost:3000,http://localhost:5173,http://localhost:8080
CORS_ALLOWED_METHODS=GET,POST,PUT,DELETE,OPTIONS
CORS_ALLOWED_HEADERS=Content-Type,Authorization,X-Requested-With

# =============================================================================
# Services Externes (Optionnel)
# =============================================================================
# Email
SMTP_HOST=
SMTP_PORT=587
SMTP_USERNAME=
SMTP_PASSWORD=
SMTP_FROM_EMAIL=noreply@veza.com

# Stockage cloud (AWS S3, Google Cloud, etc.)
CLOUD_STORAGE_PROVIDER=
CLOUD_STORAGE_BUCKET=
CLOUD_STORAGE_REGION=
CLOUD_STORAGE_ACCESS_KEY=
CLOUD_STORAGE_SECRET_KEY=

# Push notifications
PUSH_NOTIFICATION_KEY=
PUSH_NOTIFICATION_SECRET=

# =============================================================================
# Monitoring et Analytics
# =============================================================================
# Métriques
ENABLE_METRICS=true
METRICS_PORT=9090

# Monitoring
HEALTH_CHECK_INTERVAL=30
ENABLE_HEALTH_CHECKS=true

# Analytics
ENABLE_ANALYTICS=true
ANALYTICS_RETENTION_DAYS=30

# =============================================================================
# Cache et Performance
# =============================================================================
# Cache TTL en secondes
CACHE_TTL=3600
CACHE_MAX_SIZE_MB=512

# Performance
ENABLE_COMPRESSION=true
ENABLE_HTTP2=true

# =============================================================================
# Développement
# =============================================================================
# Hot reload et développement
ENABLE_HOT_RELOAD=true
ENABLE_DEBUG_LOGS=true
ENABLE_CORS_DEV=true

# Données de test
SEED_DATABASE=true
CREATE_TEST_USERS=true

# =============================================================================
# Production (Commenter/Décommenter selon l'environnement)
# =============================================================================
# ENVIRONMENT=production
# DEBUG=false
# ENABLE_HOT_RELOAD=false
# ENABLE_DEBUG_LOGS=false
# SEED_DATABASE=false
# CREATE_TEST_USERS=false

# SSL/TLS (Production)
# SSL_CERT_PATH=/etc/ssl/certs/veza.crt
# SSL_KEY_PATH=/etc/ssl/private/veza.key
# ENABLE_HTTPS=true

# Base de données production
# DATABASE_URL=postgres://prod_user:strong_password@prod-db:5432/veza_prod?sslmode=require

# Redis production
# REDIS_URL=redis://prod-redis:6379
# REDIS_PASSWORD=strong_redis_password

# Domaine production
# ALLOWED_ORIGINS=https://veza.com,https://www.veza.com
# CORS_ALLOWED_ORIGINS=https://veza.com,https://www.veza.com

# URLs production
# VITE_API_URL=https://api.veza.com/api/v1
# VITE_WS_CHAT_URL=wss://api.veza.com/ws/chat
# VITE_WS_STREAM_URL=wss://api.veza.com/ws/stream 